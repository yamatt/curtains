# write endpoints:

- 5833ff02-9b8b-5191-6142-22a4536ef123
- 49535343-8841-43f4-a8d4-ecbe34729bb3

# notify endpoints:

- 49535343-1e4d-4bd9-ba61-23c647249616
- 5833ff03-9b8b-5191-6142-22a4536ef123

## 5833ff03-9b8b-5191-6142-22a4536ef123

Doesn't return anything in 60 seconds

## 49535343-1e4d-4bd9-ba61-23c647249616

Returns in 10 seconds:

- Before change: `\xaa\x04\x04\x00\x00\x00\x00\xb2`
- After change: `\xaa\x04\x04\x00\x00\x00\x00\xb2`

The values are identical

- First byte is likely a header
- Second byte is a type value
- Third byte is a length of the payload
- The next set of bytes in the length is the payload
- The last byte is a checksum of sum of all bytes modulo to 256

### Got some results when listening and pressing the button a few times:

- `\xaa\x04\x04\x00\x00\x00\x00\xb2`
- `\xaa\x01\x08\x00\x00\x00\x01\x02\x0b\x00d%`
- `\xaa\x01\x08\x00\x00\x00\x01\x02\x0c\x00d&`
- `\xaa\x01\x08\x00\x00\x00\x01\x02\r\x00d\`

## Turned them on and off

I wrote `\xaa\x02\x08\x00\x00\x00\x01\x02\x0d\x00\x64` plus checksum to `49535343-8841-43f4-a8d4-ecbe34729bb3` and this turned them off

- `\xaa\x02\x01\x01\x64` turned it back on
- `\xaa\x02\x01\x00\x64` turned it off

## Modes

Only the payload needs to be specified. The rest is generated by the packet object.

`\x03` is the preset type

- `0201030d`
- `0201030c`

### Mode

First byte of the payload is preset type.

#### Solid colour

| Offset | Length | Value  | Description                                     |
| ------ | ------ | ------ | ----------------------------------------------- |
| 0      | 1      | 0xAA   | Header                                          |
| 1      | 1      | 0x03   | Msg Type (Color)                                |
| 2      | 1      | 0x07   | Packet Length (Remaining bytes: 1 cmd + 6 data) |
| 3      | 1      | 0x01   | Sub-Command (Likely "Set Color")                |
| 4      | 2      | 0xHHHH | Hue (0-360 degrees)                             |
| 6      | 2      | 0xSSSS | Saturation (0-1000)                             |
| 8      | 2      | 0xVVVV | Value/Brightness (0-1000)                       |
| 10     | 1      | 0xCC   | Checksum                                        |

#### Examples

*Pure red*: 0xAA030701                        000003E803E8 8B
*pure red. approx 50% brightness*: 0xAA030701 000003E80190 31
*Pure green*: 0xAA030701                      007703E803E8 02
*Pure blue*: 0xAA030701                       00F003E803E8 7B
*pure blue approx 50% brightness*: 0xAA030701 00F003E801FE 8F
*Full blue and full red*: 0xAA030701          012C03E803E8 B8
*full red and full green*: 0xAA030701         003C03E803E8 C7
*full red and full blue*: 0xAA030701          012C03E803E8 B8
*full white*: 0xAA030701                      0000000003E8 A0



This 00 and 01 for solid colour. I can't seem to change the colour.
`030701...` is solid colours

`00F003E803` changed colour to blue-ish
`000003E803` changed colour to red
`0166019B03` changed color to pink
`0000000003` changed to white
`007803E803` changed color to green
`001203BC03` changed color to orange-ish

the last `3` is a brightness level from 0 to F.
`030701...` is solid colours

#### Animations

raw data:

rudolf animation full speed:         0xAAD80501 01640064 51
rudolf animation approxi half speed: 0xAAD80501 01310064 1E
santa animation slow speed:          0xAAD80501 01000064 ED
snowflake animation slow speed:      0xAAD80501 02000064 EE
santa face slow speed:               0xAAD80501 04000064 F0
santa face slow speed:               0xAAD80501 04640064 54



When the first byte is `02` you can select animations

Second byte sets which animation.

If the second byte is `00` it pauses the animation.

The second byte can be any number. There are 109 animations from 01 to 6e.

The third byte is a brightness value from `00` to `ff`. `00` isn't off, but low. `ff` is full brightness.

`03...` is manual control

`0309...` is music

`0304...` is preset animation

#### Single Pixel

D1 is the type/mode 03 is length as usual. 0064 is the index of the LED being lit up. 0 to 399.

64 is the index of the LED and FF is the colour. FF is white. FE is turn off.

```sh
uv run curtains write FF:44:10:22:75:68 49535343-8841-43f4-a8d4-ecbe34729bb3 D1030064FF
```

Last bytes (2 chars) is the colour. 00 to B0 is the spectrum, and FF is white.

going in to panel: AA D0 04 00646403 49 (all off/clear?)
red top left: AAD1030000007E
blue top right: AAD103017C7873
green bottom right: AAD103018F3C4A

#### Custom Image upload

0xAADAEE010000FF0001FF0002FF0003FF0004FF0005FF0006FF0007FF0008FF0009FF000AFF000BFF000CFF000DFF000EFF000FFF0010FF0011FF0012FF0013FF0014FF0015FF0016FF0017FF0018FF0019FF001AFF001BFF001CFF001DFF001EFF001FFF0020FF0021FF0022FF0023FF0024FF0025FF0026FF0027FF0028FF0029FF002AFF002BFF002CFF002DFF002EFF002FFF0030FF0031FF0032FF0033FF0034FF0035FF0036FF0037FF0038FF0039FF003AFF003BFF003CFF003DFF003EFF003FFF0040FF0041FF0042FF0043FF0044FF0045FF0046FF0047FF0048FF0049FF004AFF004BFF004CFF004DFF004EFF2D

0xAADAEE01004FFF0050FF0051FF0052FF0053FF0054FF0055FF0056FF0057FF0058FF0059FF005AFF005BFF005CFF005DFF005EFF005FFF0060FF0061FF0062FF0063FF0064FF0065FF0066FF0067FF0068FF0069FF006A84006B84006C84006D84006E84006F840070840071840072840073840074FF0075FF0076FF0077FF0078FF0079FF007AFF007BFF007CFF007DFF007E84007F840080840081840082840083840084840085840086840087840088FF0089FF008AFF008BFF008CFF008DFF008EFF008F840090850091FF0092840093840094FF0095FF0096FF0097FF0098FF0099FF009A84009B84009CFF009DFF11

0xAADAEE01009EFF009FFF00A0FF00A1FF00A2FF00A38400A48400A58500A68500A78400A8FF00A9FF00AAFF00ABFF00ACFF00ADFF00AE8400AF8400B0FF00B1FF00B2FF00B3FF00B4FF00B5FF00B6FF00B78400B88400B98500BA8500BB8500BCFF00BDFF00BEFF00BFFF00C0FF00C1FF00C28400C38400C4FF00C5FF00C6FF00C7FF00C8FF00C9FF00CAFF00CB8400CC8400CD8500CE8400CF8400D0FF00D1FF00D2FF00D3FF00D4FF00D5FF00D68400D78400D8FF00D9FF00DAFF00DBFF00DCFF00DDFF00DEFF00DF8400E08500E1FF00E28400E38400E4FF00E5FF00E6FF00E7FF00E8FF00E9FF00EA8400EB8400ECFFFD

0xAADAEE0100EDFF00EEFF00EFFF00F0FF00F1FF00F2FF00F3FF00F4FF00F5FF00F68400F78400F88400F98400FA8400FB8400FC8400FD8400FE8400FF840100FF0101FF0102FF0103FF0104FF0105FF0106FF0107FF0108FF0109FF010A84010B84010C85010D85010E85010F840110840111840112840113840114FF0115FF0116FF0117FF0118FF0119FF011AFF011BFF011CFF011DFF011EFF011FFF0120FF0121FF0122FF0123FF0124FF0125FF0126FF0127FF0128FF0129FF012AFF012BFF012CFF012DFF012EFF012FFF0130FF0131FF0132FF0133FF0134FF0135FF0136FF0137FF0138FF0139FF013AFF013BFFF3

0xAADAEE01013CFF013DFF013EFF013FFF0140FF0141FF0142FF0143FF0144FF0145FF0146FF0147FF0148FF0149FF014AFF014BFF014CFF014DFF014EFF014FFF0150FF0151FF0152FF0153FF0154FF0155FF0156FF0157FF0158FF0159FF015AFF015BFF015CFF015DFF015EFF015FFF0160FF0161FF0162FF0163FF0164FF0165FF0166FF0167FF0168FF0169FF016AFF016BFF016CFF016DFF016EFF016FFF0170FF0171FF0172FF0173FF0174FF0175FF0176FF0177FF0178FF0179FF017AFF017BFF017CFF017DFF017EFF017FFF0180FF0181FF0182FF0183FF0184FF0185FF0186FF0187FF0188FF0189FF018AFF00

0xAADA1001018BFF018CFF018DFF018EFF018FFF56
0x49535343-8841-43f4-a8d4-ecbe34729bb3, value = 0xAAD00406643B0427
0x49535343-8841-43f4-a8d4-ecbe34729bb3, value = 0xAAD00406643B0124

0x49535343-8841-43f4-a8d4-ecbe34729bb3, value = 0xAA0307010000000003E8A0

##### Same Pattern All Image

All black apart from pixels above

AAD0 04 00646403 49

AAD0 04 00646400 46 << setting the drawing mode

AADA
    EE << length
        010000 << maybe a header?
        000001 << first pixel is red
        FE0002
        FE0003
        FE0004
        FE0005
        FE0006
        FE0007
        FE0008
        FE0009
        FE000A
        FE000B
        FE000C
        FE000D
        FE000E
        FE000F
        FE0010
        FE0011
        FE0012
        FE0013
        FE0014
        FE0015
        FE0016
        FE0017
        FE0018
        FE0019
        FE001A
        FE001B
        FE001C
        FE001D
        FE001E
        FE001F
        FE0020
        FE0021
        FE0022
        FE0023
        FE0024
        FE0025
        FE0026
        FE0027
        FE0028
        FE0029
        FE002A
        FE002B
        FE002C
        FE002D
        FE002E
        FE002F
        FE0030
        FE0031
        FE0032
        FE0033
        FE0034
        FE0035
        FE0036
        FE0037
        FE0038
        FE0039
        FE003A
        FE003B
        FE003C
        FE003D
        FE003E
        FE003F
        FE0040
        FE0041
        FE0042
        FE0043
        FE0044
        FE0045
        FE0046
        FE0047
        FE0048
        FE0049
        FE004A
        FE004B
        FE004C
        FE004D
        FE004E
    FE
E0

AADA
    EE
        01004F
        FE0050
        FE0051
        FE0052
        FE0053
        FE0054
        FE0055
        FE0056
        FE0057
        FE0058
        FE0059
        FE005A
        FE005B
        FE005C
        FE005D
        FE005E
        FE005F
        FE0060
        FE0061
        FE0062
        FE0063
        FE0064
        FE0065
        FE0066
        FE0067
        FE0068
        FE0069
        FE006A
        FE006B
        FE006C
        FE006D
        FE006E
        FE006F
        FE0070
        FE0071
        FE0072
        FE0073
        FE0074
        FE0075
        FE0076
        FE0077
        FE0078
        FE0079
        FE007A
        FE007B
        FE007C
        FE007D
        FE007E
        FE007F
        FE0080
        FE0081
        FE0082
        FE0083
        FE0084
        FE0085
        FE0086
        FE0087
        FE0088
        FE0089
        FE008A
        FE008B
        FE008C
        FE008D
        FE008E
        FE008F
        FE0090
        FE0091
        FE0092
        FE0093
        FE0094
        FE0095
        FE0096
        FE0097
        FE0098
        FE0099
        FE009A
        FE009B
        FE009C
        FE009D
    FE
3F

AADA
    EE
        01009E
        FE009F
        FE00A0
        FE00A1
        FE00A2
        FE00A3
        FE00A4
        FE00A5
        FE00A6
        FE00A7
        FE00A8
        FE00A9
        FE00AA
        FE00AB
        FE00AC
        FE00AD
        FE00AE
        FE00AF
        FE00B0
        FE00B1
        FE00B2
        FE00B3
        FE00B4
        FE00B5
        FE00B6
        FE00B7
        FE00B8
        FE00B9
        FE00BA
        FE00BB
        FE00BC
        FE00BD
        FE00BE
        FE00BF
        FE00C0
        FE00C1
        FE00C2
        FE00C3
        FE00C4
        FE00C5
        FE00C6
        FE00C7
        FE00C8
        FE00C9
        FE00CA
        FE00CB
        FE00CC
        FE00CD
        FE00CE
        FE00CF
        FE00D0
        FE00D1
        FE00D2
        FE00D3
        FE00D4
        FE00D5
        FE00D6
        FE00D7
        FE00D8
        FE00D9
        FE00DA
        FE00DB
        FE00DC
        FE00DD
        FE00DE
        FE00DF
        FE00E0
        FE00E1
        FE00E2
        FE00E3
        FE00E4
        FE00E5
        FE00E6
        FE00E7
        FE00E8
        FE00E9
        FE00EA
        FE00EB
        FE00EC
    FE
A0

AADA
    EE
        0100ED
        FE00EE
        FE00EF
        FE00F0
        FE00F1
        FE00F2
        FE00F3
        FE00F4
        FE00F5
        FE00F6
        FE00F7
        FE00F8
        FE00F9
        FE00FA
        FE00FB
        FE00FC
        FE00FD
        FE00FE
        FE00FF
        FE0100
        FE0101
        FE0102
        FE0103
        FE0104
        FE0105
        FE0106
        FE0107
        FE0108
        FE0109
        FE010A
        FE010B
        FE010C
        FE010D
        FE010E
        FE010F
        FE0110
        FE0111
        FE0112
        FE0113
        FE0114
        FE0115
        FE0116
        FE0117
        FE0118
        FE0119
        FE011A
        FE011B
        FE011C
        FE011D
        FE011E
        FE011F
        FE0120
        FE0121
        FE0122
        FE0123
        FE0124
        FE0125
        FE0126
        FE0127
        FE0128
        FE0129
        FE012A
        FE012B
        FE012C
        FE012D
        FE012E
        FE012F
        FE0130
        FE0131
        FE0132
        FE0133
        FE0134
        FE0135
        FE0136
        FE0137
        FE0138
        FE0139
        FE013A
        FE013B
    FE
3D

AADAEE01013CFE013DFE013EFE013FFE0140FE0141FE0142FE0143FE0144FE0145FE0146FE0147FE0148FE0149FE014AFE014BFE014CFE014DFE014EFE014FFE0150FE0151FE0152FE0153FE0154FE0155FE0156FE0157FE0158FE0159FE015AFE015BFE015CFE015DFE015EFE015FFE0160FE0161FE0162FE0163FE0164FE0165FE0166FE0167FE0168FE0169FE016AFE016BFE016CFE016DFE016EFE016FFE0170FE0171FE0172FE0173FE0174FE0175FE0176FE0177FE0178FE0179FE017AFE017BFE017C78017DFE017EFE017FFE0180FE0181FE0182FE0183FE0184FE0185FE0186FE0187FE0188FE0189FE018AFE2B

AADA
    10
        01018B
        FE018C
        FE018D
        FE018E
        FE018F
        3C
8F

AAD0 04 00646404 4A

AAD0 04 00646401 47

##### Sending All Green

AAD0040064640349

AAD0040064640046

AADA
    EE
        010000
        3C0001
        3C0002
        3C0003
        3C0004
        3C0005
        3C0006
        3C0007
        3C0008
        3C0009
        3C000A
        3C000B
        3C000C
        3C000D
        3C000E
        3C000F
        3C0010
        3C0011
        3C0012
        3C0013
        3C0014
        3C0015
        3C0016
        3C0017
        3C0018
        3C0019
        3C001A
        3C001B
        3C001C
        3C001D
        3C001E
        3C001F
        3C0020
        3C0021
        3C0022
        3C0023
        3C0024
        3C0025
        3C0026
        3C0027
        3C0028
        3C0029
        3C002A
        3C002B
        3C002C
        3C002D
        3C002E
        3C002F
        3C0030
        3C0031
        3C0032
        3C0033
        3C0034
        3C0035
        3C0036
        3C0037
        3C0038
        3C0039
        3C003A
        3C003B
        3C003C
        3C003D
        3C003E
        3C003F
        3C0040
        3C0041
        3C0042
        3C0043
        3C0044
        3C0045
        3C0046
        3C0047
        3C0048
        3C0049
        3C004A
        3C004B
        3C004C
        3C004D
        3C004E
    3C <!-- I think it tries to write the message and runs out of room but leaves this in as with the all blank (FE) image this is FE and with an all green (3C) image this is 3C
00

AADAEE01004F3C00503C00513C00523C00533C00543C00553C00563C00573C00583C00593C005A3C005B3C005C3C005D3C005E3C005F3C00603C00613C00623C00633C00643C00653C00663C00673C00683C00693C006A3C006B3C006C3C006D3C006E3C006F3C00703C00713C00723C00733C00743C00753C00763C00773C00783C00793C007A3C007B3C007C3C007D3C007E3C007F3C00803C00813C00823C00833C00843C00853C00863C00873C00883C00893C008A3C008B3C008C3C008D3C008E3C008F3C00903C00913C00923C00933C00943C00953C00963C00973C00983C00993C009A3C009B3C009C3C009D3C61

AADAEE01009E3C009F3C00A03C00A13C00A23C00A33C00A43C00A53C00A63C00A73C00A83C00A93C00AA3C00AB3C00AC3C00AD3C00AE3C00AF3C00B03C00B13C00B23C00B33C00B43C00B53C00B63C00B73C00B83C00B93C00BA3C00BB3C00BC3C00BD3C00BE3C00BF3C00C03C00C13C00C23C00C33C00C43C00C53C00C63C00C73C00C83C00C93C00CA3C00CB3C00CC3C00CD3C00CE3C00CF3C00D03C00D13C00D23C00D33C00D43C00D53C00D63C00D73C00D83C00D93C00DA3C00DB3C00DC3C00DD3C00DE3C00DF3C00E03C00E13C00E23C00E33C00E43C00E53C00E63C00E73C00E83C00E93C00EA3C00EB3C00EC3CC2

AADAEE0100ED3C00EE3C00EF3C00F03C00F13C00F23C00F33C00F43C00F53C00F63C00F73C00F83C00F93C00FA3C00FB3C00FC3C00FD3C00FE3C00FF3C01003C01013C01023C01033C01043C01053C01063C01073C01083C01093C010A3C010B3C010C3C010D3C010E3C010F3C01103C01113C01123C01133C01143C01153C01163C01173C01183C01193C011A3C011B3C011C3C011D3C011E3C011F3C01203C01213C01223C01233C01243C01253C01263C01273C01283C01293C012A3C012B3C012C3C012D3C012E3C012F3C01303C01313C01323C01333C01343C01353C01363C01373C01383C01393C013A3C013B3C5F

AADAEE01013C3C013D3C013E3C013F3C01403C01413C01423C01433C01443C01453C01463C01473C01483C01493C014A3C014B3C014C3C014D3C014E3C014F3C01503C01513C01523C01533C01543C01553C01563C01573C01583C01593C015A3C015B3C015C3C015D3C015E3C015F3C01603C01613C01623C01633C01643C01653C01663C01673C01683C01693C016A3C016B3C016C3C016D3C016E3C016F3C01703C01713C01723C01733C01743C01753C01763C01773C01783C01793C017A3C017B3C017C3C017D3C017E3C017F3C01803C01813C01823C01833C01843C01853C01863C01873C01883C01893C018A3CD3

AADA1001018B3C018C3C018D3C018E3C018F3C87

AAD004006464044A

AAD0040064640147
